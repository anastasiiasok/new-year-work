{"mappings":"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","sources":["src/Popup.ts","src/index.ts","src/functions.ts"],"sourcesContent":["export interface OptionsPopup {\n\ttitle?: string;\n\tdescription?: string;\n\timgSrc?: string;\n}\n\nexport interface PopupNodes {\n\tpopupNode: HTMLDivElement;\n\tpopupCloseNode: HTMLButtonElement;\n\tpopupBodyNode: HTMLDivElement;\n\tpopupContentNode: HTMLDivElement;\n\tpopupTitleNode: HTMLHeadingElement;\n\tpopupDescriptionNode: HTMLParagraphElement;\n\tpopupImgNode: HTMLImageElement;\n}\n\nexport class Popup {\n\n\t// Тут декларируются переменные, которые будут использоваться в классе\n\tprivate nodes: PopupNodes;\n\tprivate options: OptionsPopup;\n\tprivate activeClassPopup: string = 'popup_open';\n\tprivate activeClassBody: string = 'body_overflow-hidden';\n\n\tconstructor(options: OptionsPopup) {\n\t\tthis.options = options;\n\t\tthis.onInit();\n\t}\n\n\t/**\n\t * Вызывается при создании экземпляра класса Popup\n\t */\n\tprivate onInit(): void {\n\t\tthis.initVars();\n\t\tthis.initAddEventListeners();\n\t\tthis.appendPopupNodeInBody();\n\t}\n\n\t/**\n\t * Создание переменных в классе, в объекте this\n\t */\n\t private initVars(): void {\n\t\tconst popupNode = this.createPopupNode();\n\t\tconst popupCloseNode = popupNode.querySelector('.popup__close');\n\t\tconst popupBodyNode = popupNode.querySelector('.popup__body');\n\t\tconst popupContentNode = popupNode.querySelector('.popup__content');\n\t\tconst popupTitleNode = popupNode.querySelector('.popup__title');\n\t\tconst popupDescriptionNode = popupNode.querySelector('.popup__description');\n\t\tconst popupImgNode = popupNode.querySelector('.popup__img');\n\n\n\t\tthis.nodes = {\n\t\t\tpopupNode: popupNode,\n\t\t\tpopupCloseNode: popupCloseNode as HTMLButtonElement,\n\t\t\tpopupBodyNode: popupBodyNode as HTMLDivElement,\n\t\t\tpopupContentNode: popupContentNode as HTMLDivElement,\n\t\t\tpopupTitleNode: popupTitleNode as HTMLHeadingElement,\n\t\t\tpopupDescriptionNode: popupDescriptionNode as HTMLParagraphElement,\n\t\t\tpopupImgNode: popupImgNode as HTMLImageElement\n\t\t};\n\t}\n\n\tprivate initAddEventListeners(): void {\n\n\t\tthis.nodes.popupNode.addEventListener('click', this.popupClickHandler);\n\n\t}\n\n\tprivate popupClickHandler = (event: Event) => {\n\t\tconst targetNode = event.target;\n\n\t\tif (targetNode === this.nodes.popupBodyNode || targetNode === this.nodes.popupCloseNode) {\n\t\t\tthis.close();\n\t\t};\n\t};\n\n\t/**\n\t * Добавить popupNode в body\n\t */\n\t private appendPopupNodeInBody(): void {\n\t\t// document.body - это узел из дерева, тег body, в самом JavaScript уже есть доступ к тегу body, его не надо искать с помощью document.querySelector('body')\n\t\tdocument.body.append(this.nodes.popupNode);\n\t}\n\n\tprivate createPopupNode(): HTMLDivElement {\n\t\tconst popupNode = document.createElement('div');\n\n\t\tpopupNode.classList.add('popup');\n\t\tpopupNode.innerHTML = `\n\t\t\t<button class=\"popup__close\">Close</button>\n\t\t\t<div class=\"popup__body\">\n\t\t\t\t<div class=\"popup__content\">\n\t\t\t\t\t\t<h1 class=\"popup__title\">${this.options.title || ''}</h1>\n\t\t\t\t\t\t<p class=\"popup__description\">${this.options.description || ''}</p>\n\t\t\t\t\t\t<div class=\"popup__img-wrapper\">\n\t\t\t\t\t\t\t<img class=\"popup__img\" src=\"${this.options.imgSrc}\">\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\treturn popupNode;\n\t}\n\n\tpublic open(): void {\n\t\tthis.nodes.popupNode.classList.add(this.activeClassPopup);\n\t\tdocument.body.classList.add(this.activeClassBody);\n\t}\n\n\tpublic close(): void {\n\t\tthis.nodes.popupNode.classList.remove(this.activeClassPopup);\n\t\tdocument.body.classList.remove(this.activeClassBody);\n\t}\n\n\tpublic edit(options: OptionsPopup): void {\n\t\tthis.options = options;\n\n\t\tconst popupTitleNode = this.nodes.popupTitleNode;\n\t\tconst popupDescriptionNode = this.nodes.popupDescriptionNode;\n\t\tconst popupImgNode = this.nodes.popupImgNode;\n\n\t\tif (popupTitleNode !== null && this.options.title !== undefined) {\n\t\t\tpopupTitleNode.innerHTML = this.options.title;\n\t\t}\n\n\t\tif (popupDescriptionNode !== null && this.options.description !== undefined) {\n\t\t\tpopupDescriptionNode.innerHTML = this.options.description;\n\t\t}\n\n\t\tif (popupImgNode !== null && this.options.imgSrc !== undefined) {\n\t\t\tpopupImgNode.src = this.options.imgSrc;\n\t\t}\n\n\t}\n\n\tpublic destroy(): void {\n\t\tthis.nodes.popupNode.remove();\n\t}\n\n\n}\n","import { getCalendarValues } from \"./functions\";\nimport { Popup } from \"./Popup\";\n\n\n// Это создание экземпляра класса Popup\n// popup - экземпляр класса Popup\n// console.log(popup);\n// popup.open();\n\nconst calendarValues = getCalendarValues();\n\nfor (const calendarValue of calendarValues) {\n\tconst calendarPopupNode = calendarValue.calendarPopupNode;\n\tconst calendarDayNode = calendarValue.calendarDayNode;\n\n\tif (calendarPopupNode !== undefined) {\n\t\tcalendarDayNode.addEventListener('click', () => {\n\t\t\tconst popup = new Popup({\n\t\t\t\ttitle: calendarValue.title,\n\t\t\t\tdescription: calendarValue.description,\n\t\t\t\timgSrc: calendarValue.imgSrc\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tpopup.open();\n\t\t\t}, 0);\n\t\t});\n\t}\n}\n\n\n\n\n// popup.open();\n\n// console.log(popup);\n\n\n\n\n","import { CalendarValue } from \"./interfaces\";\n\nexport function getCalendarValues() {\n\tconst calendarDayNodeList: NodeListOf<HTMLDivElement> = document.querySelectorAll<HTMLDivElement>('.calendar__day');\n\tconst calendarDayNodes: HTMLDivElement[] = Array.from(calendarDayNodeList);\n\n\treturn calendarDayNodes.map(calendarDayNode => {\n\t\tconst totalObj: any = {};\n\t\tconst calendarPopupNode: HTMLDivElement | null = calendarDayNode.querySelector('.calendar__popup');\n\t\tconst calendarPopupTitleNode: HTMLDivElement | HTMLHeadingElement | null = calendarDayNode.querySelector('.calendar__popup-title');\n\t\tconst calendarPopupDescriptionNode: HTMLDivElement | null = calendarDayNode.querySelector('.calendar__popup-description');\n\t\tconst calendarPopupImgNode: HTMLImageElement | null = calendarDayNode.querySelector('.calendar__popup-img');\n\n\t\ttotalObj.calendarDayNode = calendarDayNode;\n\n\t\tif (calendarPopupNode !== null) {\n\t\t\ttotalObj.calendarPopupNode = calendarPopupNode;\n\t\t}\n\n\t\tif (calendarPopupTitleNode !== null) {\n\t\t\ttotalObj.calendarPopupTitleNode = calendarPopupTitleNode;\n\t\t\ttotalObj.title = calendarPopupTitleNode.innerHTML;\n\t\t}\n\n\t\tif (calendarPopupDescriptionNode !== null) {\n\t\t\ttotalObj.calendarPopupDescriptionNode = calendarPopupDescriptionNode;\n\t\t\ttotalObj.description = calendarPopupDescriptionNode.innerHTML;\n\t\t}\n\n\t\tif (calendarPopupImgNode !== null) {\n\t\t\ttotalObj.calendarPopupImgNode = calendarPopupImgNode;\n\t\t\ttotalObj.imgSrc = calendarPopupImgNode.src;\n\t\t}\n\n\t\treturn totalObj as CalendarValue;\n\t});\n}\n"],"names":["$7719a2ad6afb6c50$export$129a32eedafa97c5","activeClassPopup","activeClassBody","constructor","options","this","onInit","initVars","initAddEventListeners","appendPopupNodeInBody","popupNode","createPopupNode","popupCloseNode","querySelector","popupBodyNode","popupContentNode","popupTitleNode","popupDescriptionNode","popupImgNode","nodes","addEventListener","popupClickHandler","event","targetNode","target","close","document","body","append","createElement","classList","add","innerHTML","title","description","imgSrc","open","remove","edit","undefined","src","destroy","$b4e14b6b8da86996$var$calendarValues","calendarDayNodeList","querySelectorAll","Array","from","map","calendarDayNode","totalObj","calendarPopupNode","calendarPopupTitleNode","calendarPopupDescriptionNode","calendarPopupImgNode","calendarValue","popup","setTimeout"],"version":3,"file":"index.db289115.js.map"}